<!DOCTYPE html>
<html>
  <!--
/* Copyright (c) 2017 MIT 6.813/6.831 course staff, all rights reserved.
 * Redistribution of original or derived work requires permission of course staff.
 */
-->

  <head>
    <meta charset="utf-8" />

    <!-- Load style sheets -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.css"
    />

    <link rel="stylesheet" href="../css/symptomStyle.css" />

    <!-- Use mobile-aware viewport -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Load any supplemental Javascript libraries here -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/2.4.2/seedrandom.js"></script>
  </head>
  <body>
    <div style="width: 50%; height: 50%; float:left;">
      <h2>Add Symptoms</h2>
      <input type="checkbox" id="pain" value="Pain Releiver" />
      <label for="vehicle1"> Pain</label><br />
      <input type="checkbox" id="naus" alue="Nauseau" />
      <label for="vehicle2"> Nauseau</label><br />
      <input type="checkbox" id="other" value="Other" onclick="getText()" />
      <label for="vehicle3">
        <label name="form">Other:</label>
        <input type="text" id="otherText" size="10" disabled />
      </label>
  
      <br /><br />
     <input type="submit" value="Submit" onclick="sendAlert()" />
    </div>
  

    <script>
      function getText() {
        var checkBox = document.getElementById("other");
        var text = document.getElementById("otherText");
        if (checkBox.checked == true) {
          console.log("hello");
          text.disabled = false;
        } else {
          text.disabled = true;
        }
      }

      function sendAlert() {
        addSymptom1();
        addSymptom2();
        addSymptom3();

      }

      function addSymptom1(){
        var checkbox1 = document.getElementById("pain");
        var med1 = "Body pain";
        var list = document.getElementById('list');
        var li = document.createElement("li");
        if (checkbox1.checked == true) {
          if( !contains(med1)){
              li.appendChild(document.createTextNode(med1));
              list.appendChild(li);
          }
          
        }
      }

      function addSymptom2(){
        var checkbox1 = document.getElementById("naus");
        var med1 = "Nauseau";
        var list = document.getElementById('list');
        var li = document.createElement("li");
        if (checkbox1.checked == true) {
          if( !contains(med1)){
              li.appendChild(document.createTextNode(med1));
              list.appendChild(li);
          }
          
        }
      }// med2

      function addSymptom3(){
        var checkbox3 = document.getElementById("other");
        var text = document.getElementById("otherText");

        if (checkbox3.checked == true) {
          var med3 = text.value;
        }
        var list = document.getElementById('list');
        var li = document.createElement("li");
        if (checkbox3.checked == true) {
          if(!contains(med3)){
            li.appendChild(document.createTextNode(med3));
            list.appendChild(li);
          }
          
        }
      } // med3

      function contains(text){
        let found = false;
        $("#list li").each((id, elem) => {
          console.log(elem.innerText);
                if (elem.innerText == text) {
                    found = true;
                }
            });

        return found;
      }
    </script>

    <div class = "Symptioms List" style="width: 50%; height: 50%; float:right;">
      <h2>Symptom List</h2>
      <ul id = "list">
        
      </ul>
    </div>
    <br>
    <br>

    <div>
      <input type="submit" name="submit" value= "Back" onclick="window.location.href='../html/menu.html';" formnovalidate>
    </div>
  </body>
</html>
